<!-- YapÄ±lacaklar (Task) sayfasÄ± -->
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="AppUI.TaskPage"
             Title="YapÄ±lacaklar"
             BackgroundColor="{DynamicResource PageBackgroundColor}">

    <!-- SaÄŸ Ã¼st kÃ¶ÅŸede "Ekle" butonu -->
    <ContentPage.ToolbarItems>
        <ToolbarItem Text="âž• Ekle" Clicked="OnAddTaskClicked" />
    </ContentPage.ToolbarItems>

    <!-- Sayfa iÃ§eriÄŸini kaydÄ±rÄ±labilir hale getirir -->
    <ScrollView>
        <VerticalStackLayout Padding="15" Spacing="10">

            <!-- GÃ¶revlerin listelendiÄŸi alan -->
            <CollectionView x:Name="lstTasks"
                            ItemsLayout="VerticalList"
                            SelectionMode="None"
                            EmptyView="HenÃ¼z hiÃ§ gÃ¶rev eklenmemiÅŸ.">

                <!-- Her gÃ¶rev iÃ§in ÅŸablon -->
                <CollectionView.ItemTemplate>
                    <DataTemplate>

                        <!-- Her gÃ¶rev iÃ§in Ã§erÃ§eve -->
                        <Border BackgroundColor="{DynamicResource EntryBackgroundColor}"
                                Stroke="{DynamicResource BorderColor}"
                                StrokeThickness="1"
                                Margin="0,6"
                                Padding="15"
                                StrokeShape="RoundRectangle 16">

                            <!-- GÃ¶rev iÃ§eriÄŸi -->
                            <VerticalStackLayout Spacing="10">

                                <!-- BaÅŸlÄ±k ve tamamlama durumu -->
                                <HorizontalStackLayout Spacing="10" VerticalOptions="Center">
                                    <!-- GÃ¶rev tamamlandÄ± mÄ± -->
                                    <Switch IsToggled="{Binding IsCompleted}" 
                                            Toggled="OnTaskCompletedChanged" />
                                    <!-- GÃ¶rev baÅŸlÄ±ÄŸÄ± -->
                                    <Label Text="{Binding Title}"
                                           FontAttributes="Bold"
                                           FontSize="18"
                                           TextColor="{DynamicResource LabelTextColor}"
                                           VerticalOptions="Center" />
                                </HorizontalStackLayout>

                                <!-- GÃ¶rev aÃ§Ä±klamasÄ± -->
                                <Label Text="{Binding Details}"
                                       FontSize="14"
                                       TextColor="{DynamicResource SecondaryLabelTextColor}"
                                       LineBreakMode="WordWrap"
                                       MaxLines="3" />

                                <!-- GÃ¶rev tarihi ve saati -->
                                <Label Text="{Binding DateTime, StringFormat='Tarih: {0:dd MMM yyyy - HH:mm}'}"
                                       FontSize="12"
                                       TextColor="{DynamicResource SecondaryLabelTextColor}" />

                                <!-- DÃ¼zenle ve sil butonlarÄ± -->
                                <HorizontalStackLayout Spacing="12">
                                    <!-- DÃ¼zenle butonu -->
                                    <Button Text="âœï¸ DÃ¼zenle"
                                            Clicked="OnEditTaskClicked"
                                            CommandParameter="{Binding}"
                                            BackgroundColor="{DynamicResource ButtonBackgroundColor}"
                                            TextColor="{DynamicResource ButtonTextColor}"
                                            FontSize="14"
                                            CornerRadius="8" />

                                    <!-- Sil butonu -->
                                    <Button Text="ðŸ—‘ï¸ Sil"
                                            Clicked="OnDeleteTaskClicked"
                                            CommandParameter="{Binding}"
                                            BackgroundColor="#D32F2F"
                                            TextColor="White"
                                            FontSize="14"
                                            CornerRadius="8" />
                                </HorizontalStackLayout>

                            </VerticalStackLayout>
                        </Border>

                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
